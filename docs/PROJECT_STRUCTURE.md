# é¡¹ç›®ç›®å½•ç»“æ„è¯´æ˜

## ğŸ“ æ ¹ç›®å½•ç»“æ„

```
enterprise_flutter_app/
â”œâ”€â”€ lib/                          # åº”ç”¨æºä»£ç 
â”œâ”€â”€ assets/                       # é™æ€èµ„æºæ–‡ä»¶
â”œâ”€â”€ android/                      # Android åŸç”Ÿä»£ç 
â”œâ”€â”€ ios/                          # iOS åŸç”Ÿä»£ç 
â”œâ”€â”€ web/                          # Web å¹³å°ä»£ç 
â”œâ”€â”€ test/                         # å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
â”œâ”€â”€ scripts/                      # è‡ªåŠ¨åŒ–è„šæœ¬
â”œâ”€â”€ doc/                          # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docs/                         # æ•´åˆçš„æ–‡æ¡£æ–‡ä»¶å¤¹
â”œâ”€â”€ build/                        # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ .dart_tool/                   # Dart å·¥å…·ç¼“å­˜
â”œâ”€â”€ .fvm/                         # Flutter ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ .idea/                        # IDE é…ç½®
â”œâ”€â”€ .vscode/                      # VS Code é…ç½®
â”œâ”€â”€ .kiro/                        # Kiro IDE é…ç½®
â”œâ”€â”€ pubspec.yaml                  # Flutter ä¾èµ–é…ç½®
â”œâ”€â”€ pubspec.lock                  # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ analysis_options.yaml         # Dart åˆ†æé…ç½®
â”œâ”€â”€ build.yaml                    # æ„å»ºé…ç½®
â””â”€â”€ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶
```

---

## ğŸ“¦ lib/ - åº”ç”¨æºä»£ç ï¼ˆClean Architectureï¼‰

é‡‡ç”¨ **Clean Architecture** åˆ†å±‚æ¶æ„ï¼Œåˆ†ä¸ºä¸‰å±‚ï¼š

### 1ï¸âƒ£ **lib/presentation/** - è¡¨ç°å±‚
**èŒè´£**ï¼šUI ç•Œé¢ã€ç”¨æˆ·äº¤äº’ã€çŠ¶æ€ç®¡ç†

```
presentation/
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶ï¼ˆScreenï¼‰
â”œâ”€â”€ controllers/        # GetX æ§åˆ¶å™¨ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”œâ”€â”€ widgets/           # å¯å¤ç”¨ UI ç»„ä»¶
â”œâ”€â”€ theme/             # ä¸»é¢˜é…ç½®ï¼ˆé¢œè‰²ã€å­—ä½“ã€æ ·å¼ï¼‰
â””â”€â”€ navigation/        # è·¯ç”±å¯¼èˆªé…ç½®
```

**æŠ€æœ¯æ ˆ**ï¼š
- GetXï¼ˆçŠ¶æ€ç®¡ç†ã€è·¯ç”±ã€ä¾èµ–æ³¨å…¥ï¼‰
- Flutter Material Design
- å“åº”å¼å¸ƒå±€

---

### 2ï¸âƒ£ **lib/domain/** - é¢†åŸŸå±‚
**èŒè´£**ï¼šä¸šåŠ¡é€»è¾‘ã€ç”¨ä¾‹ã€å®ä½“å®šä¹‰ï¼ˆä¸ä¾èµ–æ¡†æ¶ï¼‰

```
domain/
â”œâ”€â”€ entities/          # ä¸šåŠ¡å®ä½“ï¼ˆçº¯ Dart ç±»ï¼‰
â”œâ”€â”€ repositories/      # ä»“å‚¨æ¥å£ï¼ˆæŠ½è±¡å®šä¹‰ï¼‰
â”œâ”€â”€ usecases/         # ç”¨ä¾‹ç±»ï¼ˆä¸šåŠ¡æµç¨‹ï¼‰
â””â”€â”€ value_objects/    # å€¼å¯¹è±¡ï¼ˆä¸å¯å˜å¯¹è±¡ï¼‰
```

**ç‰¹ç‚¹**ï¼š
- å®Œå…¨ç‹¬ç«‹äº Flutter æ¡†æ¶
- å®šä¹‰ä¸šåŠ¡è§„åˆ™å’Œæµç¨‹
- æ˜“äºå•å…ƒæµ‹è¯•

---

### 3ï¸âƒ£ **lib/data/** - æ•°æ®å±‚
**èŒè´£**ï¼šæ•°æ®è·å–ã€ç¼“å­˜ã€API è°ƒç”¨ã€æ•°æ®è½¬æ¢

```
data/
â”œâ”€â”€ datasources/       # æ•°æ®æºï¼ˆæœ¬åœ°ã€è¿œç¨‹ï¼‰
â”‚   â”œâ”€â”€ local/        # æœ¬åœ°æ•°æ®æºï¼ˆSharedPreferencesã€SQLiteï¼‰
â”‚   â””â”€â”€ remote/       # è¿œç¨‹æ•°æ®æºï¼ˆAPI è°ƒç”¨ï¼‰
â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹ï¼ˆJSON åºåˆ—åŒ–ï¼‰
â””â”€â”€ repositories/     # ä»“å‚¨å®ç°ï¼ˆæ•°æ®å±‚å®ç°ï¼‰
```

**æŠ€æœ¯æ ˆ**ï¼š
- Dioï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- Firebaseï¼ˆå®æ—¶æ•°æ®åº“ã€è®¤è¯ï¼‰
- SharedPreferencesï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰
- JSON åºåˆ—åŒ–

---

### 4ï¸âƒ£ **lib/core/** - æ ¸å¿ƒå±‚
**èŒè´£**ï¼šé€šç”¨å·¥å…·ã€é…ç½®ã€å¸¸é‡ã€é”™è¯¯å¤„ç†

```
core/
â”œâ”€â”€ configs/          # åº”ç”¨é…ç½®ï¼ˆAPI ç«¯ç‚¹ã€ç¯å¢ƒå˜é‡ï¼‰
â”œâ”€â”€ constants/        # å¸¸é‡å®šä¹‰ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—å¸¸é‡ï¼‰
â”œâ”€â”€ errors/           # é”™è¯¯å¤„ç†ï¼ˆå¼‚å¸¸ç±»ã€é”™è¯¯å¤„ç†å™¨ï¼‰
â”œâ”€â”€ extensions/       # Dart æ‰©å±•æ–¹æ³•
â”œâ”€â”€ services/         # é€šç”¨æœåŠ¡ï¼ˆæ—¥å¿—ã€åˆ†æã€é€šçŸ¥ï¼‰
â””â”€â”€ utils/            # å·¥å…·å‡½æ•°ï¼ˆéªŒè¯ã€æ ¼å¼åŒ–ã€è½¬æ¢ï¼‰
```

---

### 5ï¸âƒ£ **lib/injection/** - ä¾èµ–æ³¨å…¥
**èŒè´£**ï¼šé…ç½®ä¾èµ–æ³¨å…¥å®¹å™¨

```
injection/
â”œâ”€â”€ locator.dart      # ç”Ÿäº§ç¯å¢ƒä¾èµ–æ³¨å…¥é…ç½®
â””â”€â”€ mock_locator.dart # æµ‹è¯•ç¯å¢ƒä¾èµ–æ³¨å…¥é…ç½®ï¼ˆMock æ•°æ®ï¼‰
```

**ç”¨é€”**ï¼š
- ç®¡ç†å•ä¾‹å’Œå·¥å‚æ¨¡å¼
- æ”¯æŒç”Ÿäº§/æµ‹è¯•ç¯å¢ƒåˆ‡æ¢
- ä¾¿äºå•å…ƒæµ‹è¯•

---

### 6ï¸âƒ£ **lib/app/** - åº”ç”¨å…¥å£
**èŒè´£**ï¼šåº”ç”¨çº§åˆ«çš„é…ç½®

```
app/
â””â”€â”€ (é€šå¸¸ä¸ºç©ºï¼Œé…ç½®åœ¨ main.dart ä¸­)
```

---

### 7ï¸âƒ£ **lib/main*.dart** - å…¥å£æ–‡ä»¶
**å¤šé£å‘³æ”¯æŒ**ï¼š

```
â”œâ”€â”€ main.dart          # é»˜è®¤å…¥å£
â”œâ”€â”€ main_dev.dart      # å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ main_staging.dart  # æµ‹è¯•ç¯å¢ƒ
â”œâ”€â”€ main_prod.dart     # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ firebase_options.dart  # Firebase é…ç½®
```

**ç”¨é€”**ï¼š
- ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„ API ç«¯ç‚¹
- ä¸åŒçš„æ—¥å¿—çº§åˆ«å’Œè°ƒè¯•å·¥å…·
- ç¯å¢ƒç‰¹å®šçš„åˆå§‹åŒ–

---

## ğŸ¨ assets/ - é™æ€èµ„æº

```
assets/
â”œâ”€â”€ images/           # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ icons/       # å›¾æ ‡
â”‚   â”œâ”€â”€ logos/       # Logo
â”‚   â””â”€â”€ backgrounds/ # èƒŒæ™¯å›¾
â””â”€â”€ translations/     # å›½é™…åŒ–ç¿»è¯‘æ–‡ä»¶
    â”œâ”€â”€ en.json      # è‹±æ–‡
    â””â”€â”€ zh.json      # ä¸­æ–‡
```

**æŠ€æœ¯**ï¼š
- å¤šè¯­è¨€æ”¯æŒï¼ˆi18nï¼‰
- å“åº”å¼å›¾ç‰‡åŠ è½½

---

## ğŸ§ª test/ - æµ‹è¯•

```
test/
â”œâ”€â”€ unit/             # å•å…ƒæµ‹è¯•
â”œâ”€â”€ widget/           # Widget æµ‹è¯•
â””â”€â”€ integration/      # é›†æˆæµ‹è¯•
```

**è¦†ç›–èŒƒå›´**ï¼š
- Domain å±‚ç”¨ä¾‹æµ‹è¯•
- Data å±‚æ•°æ®æºæµ‹è¯•
- Presentation å±‚æ§åˆ¶å™¨æµ‹è¯•

---

## ğŸ”§ scripts/ - è‡ªåŠ¨åŒ–è„šæœ¬

```
scripts/
â”œâ”€â”€ switch_to_mock.sh      # åˆ‡æ¢åˆ° Mock æ•°æ®æ¨¡å¼
â””â”€â”€ switch_to_real_api.sh  # åˆ‡æ¢åˆ°çœŸå® API æ¨¡å¼
```

**ç”¨é€”**ï¼š
- å¿«é€Ÿåˆ‡æ¢å¼€å‘/æµ‹è¯•ç¯å¢ƒ
- è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹

---

## ğŸ“± å¹³å°ç‰¹å®šä»£ç 

### android/ - Android åŸç”Ÿä»£ç 
- Kotlin ä»£ç 
- Android ç‰¹å®šé…ç½®
- åŸç”Ÿæ’ä»¶é›†æˆ

### ios/ - iOS åŸç”Ÿä»£ç 
- Swift ä»£ç 
- iOS ç‰¹å®šé…ç½®
- CocoaPods ä¾èµ–

### web/ - Web å¹³å°ä»£ç 
- HTML/CSS/JavaScript
- Web ç‰¹å®šé…ç½®

---

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `pubspec.yaml` | Flutter ä¾èµ–å’Œé¡¹ç›®é…ç½® |
| `pubspec.lock` | ä¾èµ–ç‰ˆæœ¬é”å®š |
| `analysis_options.yaml` | Dart ä»£ç åˆ†æè§„åˆ™ |
| `build.yaml` | ä»£ç ç”Ÿæˆé…ç½® |
| `.fvmrc` | Flutter ç‰ˆæœ¬ç®¡ç†é…ç½® |
| `firebase_options.dart` | Firebase åˆå§‹åŒ–é…ç½® |

---

## ğŸ—ï¸ æ¶æ„æµç¨‹å›¾

```
ç”¨æˆ·äº¤äº’
    â†“
[Presentation Layer]
  - Pages (UI)
  - Controllers (GetX)
  - Widgets
    â†“
[Domain Layer]
  - UseCases (ä¸šåŠ¡é€»è¾‘)
  - Entities (æ•°æ®æ¨¡å‹)
  - Repositories (æ¥å£)
    â†“
[Data Layer]
  - Repositories (å®ç°)
  - DataSources (API/æœ¬åœ°)
  - Models (JSON åºåˆ—åŒ–)
    â†“
[External Services]
  - Firebase
  - REST API
  - Local Storage
```

---

## ğŸ”„ æ•°æ®æµå‘

1. **UI è§¦å‘äº‹ä»¶** â†’ Controller å¤„ç†
2. **Controller è°ƒç”¨** â†’ UseCase æ‰§è¡Œä¸šåŠ¡é€»è¾‘
3. **UseCase è°ƒç”¨** â†’ Repository è·å–æ•°æ®
4. **Repository è°ƒç”¨** â†’ DataSourceï¼ˆè¿œç¨‹/æœ¬åœ°ï¼‰
5. **DataSource è¿”å›** â†’ Model è½¬æ¢ä¸º Entity
6. **Entity è¿”å›** â†’ Controller æ›´æ–°çŠ¶æ€
7. **çŠ¶æ€å˜åŒ–** â†’ UI é‡æ–°æ„å»º

---

## ğŸ¯ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ­¥éª¤

1. **Domain å±‚**ï¼šå®šä¹‰ Entity å’Œ UseCase
2. **Data å±‚**ï¼šå®ç° Repository å’Œ DataSource
3. **Presentation å±‚**ï¼šåˆ›å»º Controller å’Œ Page
4. **æµ‹è¯•**ï¼šç¼–å†™å•å…ƒæµ‹è¯•å’Œ Widget æµ‹è¯•

### ç¯å¢ƒåˆ‡æ¢

```bash
# åˆ‡æ¢åˆ° Mock æ•°æ®
./scripts/switch_to_mock.sh

# åˆ‡æ¢åˆ°çœŸå® API
./scripts/switch_to_real_api.sh
```

### å¤šè¯­è¨€æ”¯æŒ

- ç¼–è¾‘ `assets/translations/en.json` å’Œ `assets/translations/zh.json`
- åœ¨ä»£ç ä¸­ä½¿ç”¨ `tr()` æ–¹æ³•è·å–ç¿»è¯‘

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `BUILD_FLAVORS_GUIDE.md` - æ„å»ºé£å‘³é…ç½®
- `DEEP_LINKING_GUIDE.md` - æ·±åº¦é“¾æ¥å®ç°
- `FIREBASE_SETUP_GUIDE.md` - Firebase é…ç½®
- `INTERNATIONALIZATION_USAGE_GUIDE.md` - å›½é™…åŒ–ä½¿ç”¨
- `MOCK_VS_REAL_API.md` - Mock å’ŒçœŸå® API å¯¹æ¯”
- `RUN_COMMANDS.md` - å¸¸ç”¨å‘½ä»¤

